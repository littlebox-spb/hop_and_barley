{% extends "base.html" %}
{% load static %}
{% block title %}Admin - Add/Edit Product | Hop & Barley{% endblock %}

{% block content %}
<main class="admin-page-wrapper">
  <div class="admin-container">

    <div class="admin-tabs">
      <a href="{% url 'admin_products' %}" class="admin-tab active">Product Management</a>
      <a href="{% url 'admin_dashboard' %}" class="admin-tab">Dashboard</a>
    </div>

    <div class="admin-content">
      <h1 class="admin-content__title">
        {% if object %}Edit Product{% else %}Add Product{% endif %}
      </h1>

      <form method="post" enctype="multipart/form-data"
            class="admin-form-layout">
        {% csrf_token %}

        <div class="admin-form-col-left">
          <h2 class="admin-form-section-title">Image</h2>
          <div class="image-upload-card">
            <div class="image-upload-placeholder">
              {% if object and object.picture %}
                <img src="{{ object.picture.url }}" style="width:100%;border-radius:8px;">
              {% else %}
                <i class="fa-regular fa-image"></i>
              {% endif %}
            </div>
            {{ form.picture }}
          </div>
        </div>

        <div class="admin-form-col-right">
          <h2 class="admin-form-section-title">Information</h2>

          <div class="checkout-form-group">
            <label>Name</label>
            {{ form.name }}
          </div>

          <div class="checkout-form-group">
            <label>Description</label>
            {{ form.description }}
          </div>

          <div class="checkout-form-group">
            <label>Price</label>
            {{ form.price }}
          </div>

          <div class="checkout-form-group">
            <label>Category</label>
            {{ form.category }}
          </div>

          <div class="checkout-form-group">
            <label>
              {{ form.is_active }} Active
            </label>
          </div>
        </div>

        <div class="admin-form-actions">
          <button type="submit" class="button button--primary">Save</button>
          <a href="{% url 'admin_products' %}"
             class="button button--secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</main>
{% endblock %}
